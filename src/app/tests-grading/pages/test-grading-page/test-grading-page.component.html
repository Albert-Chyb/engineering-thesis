<ng-template #loadingTemplate>
  <app-loading-indicator>Ładuję ...</app-loading-indicator>
</ng-template>

<ng-template #noDataTemplate>
  <app-no-data-info>
    <span no-data-info-message>Nie znaleziono danych</span>
    <img no-data-info-icon src="assets/icons/no-data.svg" />
  </app-no-data-info>
</ng-template>

<ng-template #dataTemplate>
  <app-test-taker-info [solvedTest]="solvedTest()" class="test-taker-info" />

  <form
    [formGroup]="answersEvaluationsForm"
    id="solved-test-answers-evaluations-form"
  >
    <app-test-grading-form
      [answersEvaluationsForm]="answersEvaluationsForm"
      [data]="questionsWithAnswers()"
    />
  </form>
</ng-template>

<mat-card class="with-spacing-fix">
  <mat-card-header>
    <h1 mat-card-title>Oceń rozwiązania</h1>

    <p mat-card-subtitle>
      Ta strona pozwala na ocenę rozwiązań testu. Poniżej każdego pytania
      znajdują się pola wyboru, które pozwalają na ocenę poprawności odpowiedzi.
      Zmiany w ocenach są zapisywane automatycznie.
    </p>
  </mat-card-header>

  <mat-card-content>
    <ng-container
      appPageStates
      [dataTemplate]="dataTemplate"
      [emptyTemplate]="noDataTemplate"
      [loadingTemplate]="loadingTemplate"
    />
  </mat-card-content>
</mat-card>
